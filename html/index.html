<!DOCTYPE html>
<html lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="Generator" content="KIC">
    <meta name="Author" content="코리아인스트루먼트(주) 교정관리 시스템">
    <meta name="Keywords" content="코리아인스트루먼트(주) 교정관리 시스템">
    <meta name="Description" content="코리아인스트루먼트(주) 교정관리 시스템">
    <meta name="theme-color" content="#FF7A00" />
    <title>교정마법사 CWIZ - CALIBRATION WIZARD</title>
    <script src="https://kit.fontawesome.com/8f18490998.js" crossorigin="anonymous" ></script>
    <script src="../assets/js/jquery-3.1.1.min.js"></script>
    <script src="../assets/js/jquery-ui.min.js"></script>
    <script src="../assets/js/main.js" async></script>

    <link rel="stylesheet" href="../assets/css/jquery-ui.min.css">
    <link rel="stylesheet" href="../assets/css/datepicker.css">
    <link rel="stylesheet" href="../assets/css/common.min.css">
</head>
<body>
    <div id="skip-nav">
        <a href="#container"></a>
    </div>
    
    <div id="wrap">
        <!-- header -->
        <header class="header">
            <h1 class="logo"><a href=""><img src="../assets/images/common/logo_micro.svg" alt=""></a></h1>
            <button type="button" class="btn_back" aria-label="뒤로가기"></button>
            <div class="h_util">
                <div class="h_util_sec h_btns">
                   <button type="button" class="h_btn ty_qr"></button>
                    <!--[D] 알림(종) 활성화  'on' class 추가-->
                    <button type="button" class="h_btn ty_notice on" onclick="f_alert_open();">
                        <i class="fa-solid fa-bell"></i>
                    </button>
                </div>
                <div class="f_alert_box">
                    <div class="f_alert_top">
                        <h2 class="tit">알림</h2>
                        <label class="f_toggle ml10">
                            <input type="checkbox" class="alert_chk" onchange="f_alert_chk(this)" >
                            <span class="slider">
                                <div class="slider_txt false">전체</div>
                                <div class="slider_txt true">미확인</div>
                            </span>
                        </label>
                        <button type="button" class="f_alert_close ml_auto" onclick="f_alert_close()">
                            <span class="blind">팝업 닫기</span>
                        </button>
                    </div>
                    <ul class="f_alert_list">
                        <!--[D] 이미 읽은 상태일 경우 'read' class 추가-->
                        <li class="f_alert_item ">
                            <a href="" class="f_alert_link">
                                <!--[D] 공지알림 아이콘-->
                                <i><img src="../assets/images/common/ico_alert_notice.svg" alt=""></i>
                                <div class="txt_box">
                                    <span class="date">2023년 3월 10일</span>
                                    <div class="desc">
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet cum itaque explicabo sequi ad nihil beatae quidem. Quam, doloribus ad.
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="f_alert_item read">
                            <a href="" class="f_alert_link">
                                <!--[D] 교정결과 알림 아이콘-->
                                <i><img src="../assets/images/common/ico_alert_cal.svg" alt=""></i>
                                <div class="txt_box">
                                    <span class="date">2023년 3월 10일</span>
                                    <div class="desc">
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet cum itaque explicabo sequi ad nihil beatae quidem. Quam, doloribus ad.
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="f_alert_item ">
                            <a href="" class="f_alert_link">
                                <!--[D] 차기 교정예정일 알림 아이콘-->
                                <i><img src="../assets/images/common/ico_alert_due.svg" alt=""></i>
                                <div class="txt_box">
                                    <span class="date">2023년 3월 10일</span>
                                    <div class="desc">
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet cum itaque explicabo sequi ad nihil beatae quidem. Quam, doloribus ad.
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="f_alert_item ">
                            <a href="" class="f_alert_link">
                                <!--[D] 차기 견적요청 승인 알림 아이콘-->
                                <i><img src="../assets/images/common/ico_alert_estimate.svg" alt=""></i>
                                <div class="txt_box">
                                    <span class="date">2023년 3월 10일</span>
                                    <div class="desc">
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet cum itaque explicabo sequi ad nihil beatae quidem. Quam, doloribus ad.
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="f_alert_item read">
                            <a href="" class="f_alert_link">
                                <!--[D] 공지알림 아이콘-->
                                <i><img src="../assets/images/common/ico_alert_notice.svg" alt=""></i>
                                <div class="txt_box">
                                    <span class="date">2023년 3월 10일</span>
                                    <div class="desc">
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet cum itaque explicabo sequi ad nihil beatae quidem. Quam, doloribus ad.
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="f_alert_item">
                            <a href="" class="f_alert_link">
                                <!--[D] 차기 견적요청 승인 알림 아이콘-->
                                <i><img src="../assets/images/common/ico_alert_estimate.svg" alt=""></i>
                                <div class="txt_box">
                                    <span class="date">2023년 3월 10일</span>
                                    <div class="desc">
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet cum itaque explicabo sequi ad nihil beatae quidem. Quam, doloribus ad.
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="f_alert_item read">
                            <a href="" class="f_alert_link">
                                <!--[D] 차기 견적요청 승인 알림 아이콘-->
                                <i><img src="../assets/images/common/ico_alert_estimate.svg" alt=""></i>
                                <div class="txt_box">
                                    <span class="date">2023년 3월 10일</span>
                                    <div class="desc">
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet cum itaque explicabo sequi ad nihil beatae quidem. Quam, doloribus ad.
                                    </div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </header>
        <!--// header -->
        <!-- nav -->
        <aside class="sidenav">
            <div class="sidenav_top">
                <!--[D] 썸네일 X -->
                <div class="thumb_user"></div>
                <!--[D] 썸네일 O -->
                <div class="thumb_user has_thumb">
                    <img src="../assets/images/common/pepper2.jpg" alt="">
                </div>
                <div>
                    <div class="user_name"><b>김영술</b>님 안녕하세요.</div>
                    <div class="co_name">코리아인스트루먼트(주) 서울본사</div>
                    <!--[D] 회사정보 미등록시 -->
                    <div class="co_name"><a href="" class="btn_t_link">회사정보 등록하기 &gt;</a></div>
                    <!--// [D] 회사정보 미등록시 -->
                </div>
                <button type="button" class="btn_nav_close" aria-label="close navigation"></button>
            </div>
            
            <ul class="nav">
                <li class="nav_item">
                    <button type="button" class="btn_dep1"><i class="ico_dep1 ty_menu1"></i>견적 관리</button>
                    <div class="nav_dep2_box">
                        <ul class="nav_dep2">
                            <li><a href="" class="btn_dep2">견적 요청</a></li>
                            <li><a href="" class="btn_dep2">견적 확인</a></li>
                            <li><a href="" class="btn_dep2">교정 수수료 조회</a></li>
                        </ul>
                    </div>
                </li>
                <li class="nav_item">
                    <button type="button" class="btn_dep1 "><i class="ico_dep1 ty_menu2"></i>접수 관리</button>
                    <div class="nav_dep2_box">
                        <ul class="nav_dep2">
                            <li><a href="" class="btn_dep2">예약 접수</a></li>
                            <li><a href="" class="btn_dep2">예약 접수 목록</a></li>
                            <li><a href="" class="btn_dep2">접수 확인</a></li>
                        </ul>
                    </div>                   
                </li>
                <li class="nav_item">
                    <button type="button" class="btn_dep1"><i class="ico_dep1 ty_menu3"></i>교정 관리</button>
                    <div class="nav_dep2_box">
                        <ul class="nav_dep2">
                            <li><a href="" class="btn_dep2">교정 진행 현황</a></li>
                            <li><a href="" class="btn_dep2">교정 이력 조회</a></li>
                            <li><a href="" class="btn_dep2">불량 이력 조회</a></li>
                            <li><a href="" class="btn_dep2">수리 이력 조회</a></li>
                            <li><a href="" class="btn_dep2">우리 장비 목록</a></li>
                        </ul>
                    </div>                   
                </li>
                <li class="nav_item">
                    <button type="button" class="btn_dep1"><i class="ico_dep1 ty_menu4"></i>정산/출고 관리</button>
                    <div class="nav_dep2_box">
                        <ul class="nav_dep2">
                            <li><a href="" class="btn_dep2">정산 관리</a></li>
                            <li><a href="" class="btn_dep2">출고 관리</a></li>
                        </ul>
                    </div>                   
                </li>
                <li class="nav_item">
                    <button type="button" class="btn_dep1"><i class="ico_dep1 ty_menu8"></i>포인트몰</button>
                    <div class="nav_dep2_box">
                        <ul class="nav_dep2">
                            <li><a href="" class="btn_dep2">모바일 쿠폰</a></li>
                            <li><a href="" class="btn_dep2">내 쿠폰함</a></li>
                        </ul>
                    </div>                   
                </li>
                <li class="nav_item">
                    <button type="button" class="btn_dep1"><i class="ico_dep1 ty_menu5"></i>고객 지원</button>
                    <div class="nav_dep2_box">
                        <ul class="nav_dep2">
                            <li><a href="" class="btn_dep2">공지사항</a></li>
                            <li><a href="" class="btn_dep2">자료실</a></li>
                            <li><a href="" class="btn_dep2">자주하는 질문</a></li>
                        </ul>
                    </div>                   
                </li>
                <li class="nav_item">
                    <button type="button" class="btn_dep1"><i class="ico_dep1 ty_menu6"></i>마이페이지</button>
                    <div class="nav_dep2_box">
                        <ul class="nav_dep2">
                            <li><a href="" class="btn_dep2">내 정보</a></li>
                            <li><a href="" class="btn_dep2">내 문의 관리</a></li>
                            <li><a href="" class="btn_dep2">성적서 업체 관리</a></li>
                            <li><a href="" class="btn_dep2">포인트 관리</a></li>
                        </ul>
                    </div>                   
                </li>
            </ul>
        <div class="sidenav_bot">
                <button type="button" class="f_btn ty_small _midGrey pd10">알림설정 <i class="fa-solid fa-gear"></i></button>
                <button type="button" class="f_btn ty_small _midGrey pd10 ml_auto">로그아웃 <i class="fa-solid fa-right-from-bracket"></i></button>
            </div>
        </aside>
        <!-- // nav -->
        <!--container-->
        <main id="container" class="container">
            <div class="main_wrap">
                <div class="main_sec ty_col1">
                    <div class="sub_tit ty_line">
                        <h1 class="tit2 d_flex fw_w _gapX4 ai_b">견적 관리 <span class="fz_small2 fc_midGrey">(최근 3개월)</span></h1>  
                        <a href="" class="btn_view_more ml_auto">
                            <span class="blind">더 보기</span>
                        </a>
                    </div>
                    <ul class="status_list">
                        <li class="status_list_item">
                            <div class="tit">견적 대기</div>
                            <a href class="txt_box">
                                <!--[D] data-value = 수량 -->
                                <strong class="count" data-value="931700">0</strong>
                                <span class="unit">건</span>
                            </a>
                        </li>
                        <li class="status_list_item">  
                            <div class="tit">견적 진행중</div>
                            <a href class="txt_box">
                                <!--[D] data-value = 수량 -->
                                <strong class="count" data-value="931700">0</strong>
                                <span class="unit">건</span>
                            </a>
                        </li>
                        <li class="status_list_item">
                            <div class="tit">견적 완료</div>
                            <a href class="txt_box">
                                <!--[D] data-value = 수량 -->
                                <strong class="count" data-value="931700">0</strong>
                                <span class="unit">건</span>
                            </a>
                        </li> 
                    </ul>
                </div>
                <div class="main_sec ty_col1">
                    <div class="sub_tit ty_line">
                        <h1 class="tit2 d_flex fw_w _gapX4 ai_b">접수 관리 <span class="fz_small2 fc_midGrey">(최근 3개월)</span></h1>  
                        <a href="" class="btn_view_more ml_auto">
                            <span class="blind">더 보기</span>
                        </a>
                    </div>
                    <ul class="status_list">
                        <li class="status_list_item">
                            <div class="tit">접수 대기</div>
                            <a href class="txt_box">
                                <!--[D] data-value = 수량 -->
                                <strong class="count" data-value="931700">0</strong>
                                <span class="unit">건</span>
                            </a>
                        </li>
                        <li class="status_list_item">  
                            <div class="tit">출장일 확정</div>
                            <a href class="txt_box">
                                <!--[D] data-value = 수량 -->
                                <strong class="count" data-value="931700">0</strong>
                                <span class="unit">건</span>
                            </a>
                        </li>
                        <li class="status_list_item">
                            <div class="tit">접수 완료</div>
                            <a href class="txt_box">
                                <!--[D] data-value = 수량 -->
                                <strong class="count" data-value="931700">0</strong>
                                <span class="unit">건</span>
                            </a>
                        </li> 
                    </ul>    
                </div>
                <div class="main_sec ty_col2" >
                    <div class="sub_tit ty_line">
                        <h1 class="tit2 d_flex fw_w _gapX4 ai_b">교정 진행 현황 <span class="fz_small2 fc_midGrey">(최근 3개월)</span></h1>  
                        <a href="" class="btn_view_more ml_auto">
                            <span class="blind">더 보기</span>
                        </a>
                    </div>
                    <div class="main_sec_cont calChart_wrap" data-complete="9200" data-incomplete="2456">
                        <div class="calChart_box">
                            <canvas id="calChart"></canvas>
                        </div>
                        <div class="data_list">
                            <dl class="data_list_item ty_total">
                                <dt><i class="color_chip ty_total"></i>전체</dt>
                                <dd><b class="output_total">0건</b></dd>
                            </dl>
                            <dl class="data_list_item ty_completed">
                                <dt><i class="color_chip ty_blue"></i>완료</dt>
                                <dd><b class="output_complete">0건</b> <span class="fc_midGrey">(<span class="percent_complete">0</span>%)</span></dd>
                            </dl>
                            <dl class="data_list_item ty_incomplete">
                                <dt><i class="color_chip ty_red"></i>미완료</dt>
                                <dd><b class="output_incomplete">0건</b> <span class="fc_midGrey">(<span class="percent_incomplete">0</span>%)</span></dd>
                            </dl>
                        </div>
                       
                        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>
                        <script>
                            const calChart_wrap = document.querySelector('.calChart_wrap');
                            const output_total = calChart_wrap.querySelector('.output_total');
                            const output_complete = calChart_wrap.querySelector('.output_complete');
                            const output_incomplete = calChart_wrap.querySelector('.output_incomplete');
                            const percent_complete = calChart_wrap.querySelector('.percent_complete');
                            const percent_incomplete = calChart_wrap.querySelector('.percent_incomplete');

                            let valComplete = parseInt(calChart_wrap.dataset.complete);
                            let valIncomplete = parseInt(calChart_wrap.dataset.incomplete);
                            let valTotal = valComplete + valIncomplete;

                            output_total.innerHTML = commaSeparateNumber(valTotal) + '건';
                            output_complete.innerHTML = commaSeparateNumber(valComplete) + '건';
                            output_incomplete.innerHTML = commaSeparateNumber(valIncomplete) + '건';
                            percent_complete.innerHTML = !isNaN(valComplete / valTotal) ? ((valComplete / valTotal) * 100).toFixed(1) : 0;
                            percent_incomplete.innerHTML = !isNaN(valIncomplete / valTotal) ? ((valIncomplete / valTotal) * 100).toFixed(1) : 0;

                            function commaSeparateNumber(val){
                                while (/(\d+)(\d{3})/.test(val.toString())){
                                val = val.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
                                }
                                return val;
                            }

                            let ctx = $("#calChart");
                            const centerTextPlugin = {
                                id: 'centerText',
                                beforeDraw: function(chart) {
                                    let width = chart.width,
                                        height = chart.height,
                                        ctx = chart.ctx;
                                    ctx.restore();
                                    ctx.textBaseline = "middle";
                                    //let data0 = valComplete;
                                    //let data1 = valIncomplete;
                                    //let data_total = data0 + data1;
                                    if (valTotal > 0){
                                        let fontSize = (height / 50).toFixed(2);
                                        ctx.font = fontSize + "em sans-serif";
                                        ctx.fillStyle = '#FF7A00';
                                        
                                        let text =  ((valComplete / valTotal) * 100).toFixed(1) + "%",
                                        textX = Math.round((width - ctx.measureText(text).width) / 2),
                                        textY = (height / 2) + 30;
                                        ctx.fillText(text, textX, textY);
                                    }else {
                                        let fontSize = (height / 70).toFixed(2);
                                        ctx.font = fontSize + "em sans-serif";
                                        ctx.fillStyle = '#aaa';
                                        let text =  "진행중인 교정이 없습니다.",
                                        textX = Math.round((width - ctx.measureText(text).width) / 2),
                                        textY = (height / 2);
                                        ctx.fillText(text, textX, textY);
                                    }
                                    ctx.save();
                                }
                            };
                            let data = {
                                datasets: [{
                                    data: [valComplete, valIncomplete], // [완료, 미완료]
                                    backgroundColor: [
                                        '#FF7A00',
                                        '#ffc998'
                                    ],
                                    borderWidth: 1
                                }],
                                labels: [
                                    '완료',
                                    '미완료'
                                ]
                            };
                            let options = {
                                responsive: true,               
                                maintainAspectRatio: false,     
                                cutout: '60%',                  
                                rotation: -90,                  
                                circumference: 180,             
                                plugins: {
                                    legend: {display: false}     
                                },
                                animation: {
                                    duration: 1000              
                                },
                                
                            };
                            let myChart = new Chart(ctx,{
                                type: 'doughnut',
                                data: data,
                                options: options,
                                plugins: [centerTextPlugin]    
                            });
                        </script>
                        
                    </div>
                </div>

                <div class="main_sec ">
                    <div class="main_sec_tit">
                        <h2 class="tit2"><a href="">포인트 관리</a></h2>  
                        <a href="" class="btn_view_more ml_auto">
                            <span class="blind">더 보기</span>
                        </a>
                    </div>
                    <div class="main_sec_cont">
                        <ul class="main_count_list">
                            <li class="main_count_item">
                                <div class="ico_box">
                                    <img src="../assets/images/main/ico_coin.svg" alt="">
                                </div>
                                <div>
                                    <div class="tit">사용 가능 포인트</div>
                                    <div class="txt_box">
                                        <!--[D] data-value = 수량 -->
                                        <strong class="count" data-value="931700">
                                            0
                                            <span class="sizing_box"></span>
                                        </strong>
                                    </div>
                                </div>
                            </li>
                            <li class="main_count_item">
                                <div class="ico_box ty_greyscale">
                                    <img src="../assets/images/main/ico_coin_op.svg" alt="">
                                </div>
                                <div>
                                    <div class="tit">이번달 소멸 포인트</div>
                                    <div class="txt_box">
                                        <strong class="count" data-value="31709">
                                            0
                                            <span class="sizing_box"></span>
                                        </strong>
                                    </div>
                                </div>
                            </li> 
                        </ul>
                    </div>
                </div>
                
                <div class="main_sec ">
                    <div class="main_sec_tit">
                        <h2 class="tit2"><a href="">최근 교정 이력</a></h2>  
                        <a href="" class="btn_view_more ml_auto">
                            <span class="blind">더 보기</span>
                        </a>
                    </div>
                    <ul class="mList">
                        <li class="mList_item">
                            <div class="mList_inner">
                                <div class="mList_sec mList_top _gapX4">
                                    <span class="num fwB ">202400012</span>
                                    <span class="fwB t_ellipsis1">[짧은회사명]</span>
                                    <span class="date ml_auto">2024-03-24</span>
                                </div>
                                <div class="mList_sec cal_data" data-total="678" data-normal="373" data-abnormal="63">
                                    <!--
                                        [D] data 확인 
                                        data-total : 전체 계측기수
                                        data-normal : 정상 갯수
                                        data-abnormal : 불량&나머지 갯수
                                    -->
                                    <div class="d_flex cal_progress_wrap _gap10 ai_c h_30" > 
                                        <strong class="shrink0">교정현황</strong>
                                        <div class="cal_progress flex1">
                                            <span class="cal_progress_bar cal_progress_current"></span>
                                        </div>
                                        <div class="cal_output"></div>
                                    </div>
                                    <div class="cal_detail_wrap mt5"> <!--[D] .cal_detail_wrap 'on' class 로 버튼,리스트 활성화 -->
                                        <div class="taC">
                                            <button type="button" class="btn_cal_detail" onclick="toggleDetail(this)">상세 현황</button>
                                        </div>
                                        <div class="cal_detail">
                                            <div class="d_flex cal_progress_wrap _gapX10 _gapY6 ai_c">
                                                <strong class="shrink0">상세현황</strong>
                                                <div class="cal_progress flex1">
                                                    <span class="cal_progress_bar cal_progress_normal"></span>
                                                    <span class="cal_progress_bar cal_progress_abnormal"></span>
                                                </div>
                                                <div class="detail_output w100 d_flex jc_c _gapX10">
                                                    <div>정상 : <b class="output_normal fc_blue"></b></div>
                                                    <span>/</span>
                                                    <div>불량 외 : <b class="output_abnormal fc_red"></b></div>
                                                </div>
                                            </div>
                                            <ul class="cal_detail_list mt15">
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _key_ol w_80">교정진행중</span>
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _blue_ol w_80">정상</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _blue_ol w_80">정상</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _blue_ol w_80">정상</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _red_ol w_80">불량</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _red_ol w_80">교정취소</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                            </ul>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="mList_item">
                            <div class="mList_inner">
                                <div class="mList_sec mList_top _gapX4">
                                    <span class="num fwB ">202400012</span>
                                    <span class="fwB t_ellipsis1">[엄청나게 긴 회사명이 들어가게되면 난리가 날거야]</span>
                                    <span class="date ml_auto">2024-03-24</span>
                                </div>
                                <div class="mList_sec cal_data" data-total="255" data-normal="43" data-abnormal="37"><!--[D] data 확인 -->
                                    <div class="d_flex cal_progress_wrap _gap10 ai_c h_30" > 
                                        <strong class="shrink0">교정현황</strong>
                                        <div class="cal_progress flex1">
                                            <span class="cal_progress_bar cal_progress_current"></span>
                                        </div>
                                        <div class="cal_output"></div>
                                    </div>
                                    <div class="cal_detail_wrap mt5">
                                        <div class="taC">
                                            <button type="button" class="btn_cal_detail" onclick="toggleDetail(this)">상세 현황</button>
                                        </div>
                                        <div class="cal_detail">
                                            <div class="d_flex cal_progress_wrap _gapX10 _gapY6 ai_c">
                                                <strong class="shrink0">상세현황</strong>
                                                <div class="cal_progress flex1">
                                                    <span class="cal_progress_bar cal_progress_normal"></span>
                                                    <span class="cal_progress_bar cal_progress_abnormal"></span>
                                                </div>
                                                <div class="detail_output w100 d_flex jc_c _gapX10">
                                                    <div>정상 : <b class="output_normal fc_blue"></b></div>
                                                    <span>/</span>
                                                    <div>불량 외 : <b class="output_abnormal fc_red"></b></div>
                                                </div>
                                            </div>
                                            <ul class="cal_detail_list mt15">
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _key_ol w_80">교정진행중</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _blue_ol w_80">정상</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _blue_ol w_80">정상</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _blue_ol w_80">정상</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _red_ol w_80">불량</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                                <li class="list_item">
                                                    <a href="" class="list_link">
                                                        <span class="num mr_auto">202400123-13</span>
                                                        <span class="f_tag ty_mid _red_ol w_80">교정취소</span> 
                                                        <div class="prod_info">
                                                            <span class="prod_co">[한화에어로스페이스]</span>
                                                            <span class="prod_name">DIGITAL LOW RESISTANCE OHMMETER</span>
                                                            <ul class="prod_desc list_sepBar">
                                                                <li class="prod_desc_item">S5350XL284 1005</li>
                                                                <li class="prod_desc_item prod_num fwM">qwfsad1234123</li>
                                                            </ul>
                                                        </div>
                                                    </a>
                                                </li>
                                            </ul>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <script>
                        const cal_data = document.querySelectorAll('.cal_data');
                        cal_data.forEach(e=>{
                            let val_total = parseInt(e.dataset.total);
                            let val_normal = parseInt(e.dataset.normal);
                            let val_abnormal = parseInt(e.dataset.abnormal);
                            let val_current = val_normal + val_abnormal;

                            let cal_output = e.querySelector('.cal_output');
                            let output_normal = e.querySelector('.output_normal');
                            let output_abnormal = e.querySelector('.output_abnormal');
                            let cal_progress_current = e.querySelector('.cal_progress_current');
                            let cal_progress_normal = e.querySelector('.cal_progress_normal');
                            let cal_progress_abnormal = e.querySelector('.cal_progress_abnormal');

                            cal_progress_current.style.width = (100 * val_current) / val_total + '%';
                            cal_progress_normal.style.width = (100 * val_normal) / val_current + '%';
                            cal_progress_abnormal.style.width = (100 * val_abnormal) / val_current + '%';
                            cal_output.textContent = val_current+' / '+val_total;

                            output_normal.textContent = val_normal;
                            output_abnormal.textContent = val_abnormal;
                        });

                        function toggleDetail(target){
                            let cal_detail_wrap = target.closest('.cal_detail_wrap');
                            
                            if(cal_detail_wrap.classList.contains('on')){
                                cal_detail_wrap.classList.remove('on');
                            }else{
                                cal_detail_wrap.classList.add('on');
                            }
                            
                        }

                    </script>
                </div>
                <div class="main_sec ">
                    <div class="main_sec_tit">
                        <h2 class="tit2">최근 문의 현황</h2>  
                        <a href="" class="btn_view_more ml_auto">
                            <span class="blind">더 보기</span>
                        </a>
                    </div>
                    <ul class="mList">
                        <li class="mList_item">
                            <a href="" class="mBorad_box">
                                <div class="mBorad_sec d_flex ai_c mb6">
                                    <span class="f_tag ty_mid _key">견적문의</span>
                                    <div class="ml_auto">
                                        <ul class="fz_11 list_sepBar ty2">
                                            <li class="list_item ty_date">2024-12-12</li>
                                            <li class="list_item ty_view">99</li>
                                            <li class="list_item ty_re">6</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="t_hidden_a_2">
                                    <i class="ico_new mr4"></i> 미안하다 이거 보여주려고 어그로끌었다.. 나루토 사스케 싸움수준 ㄹㅇ실화냐? 진짜 세계관최강자들의 싸움이다.. 그찐따같던 나루토가 맞나? 진짜 나루토는 전설이다..진짜옛날에 맨날나루토봘는데 왕같은존재인 호카게 되서 세계최강 전설적인 영웅이된나루토보면 진짜내가다 감격스럽고 나루토 노래부터 명장면까지 가슴울리는장면들이 뇌리에 스치면서 가슴이 웅장해진다.. 그리고 극장판 에 카카시앞에 운석날라오는 거대한 걸 사스케가 갑자기 순식간에 나타나서 부숴버리곤 개간지나게 나루토가 없다면 마을을 지킬 자는 나밖에 없다 라며 바람처럼 사라진장면은 진짜 나루토처음부
                                </div>
                            </a>
                        </li>
                        <li class="mList_item">
                            <a href="" class="mBorad_box">
                                <div class="mBorad_sec d_flex ai_c mb6">
                                    <span class="f_tag ty_mid _key">일반문의</span>
                                    <div class="ml_auto">
                                        <ul class="fz_11 list_sepBar ty2">
                                            <li class="list_item ty_date">2024-12-12</li>
                                            <li class="list_item ty_view">99</li>
                                            <li class="list_item ty_re">6</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="t_hidden_a_2">
                                    <i class="ico_new mr4"></i> 
                                    미안하다 이거 보여주려고 어그로끌었다.. 나루토 사스케 싸움수준 ㄹㅇ실화냐? 진짜 세계관최강자들의 싸움이다.. 그찐따같던 나루토가 맞나? 진짜 나루토는 전설이다..진짜옛날에 맨날나루토봘는데 왕같은존재인 호카게 되서 세계최강 전설적인 영웅이된나루토보면 진짜내가다 감격스럽고 나루토 노래부터 명장면까지 가슴울리는장면들이 뇌리에 스치면서 가슴이 웅장해진다.. 그리고 극장판 에 카카시앞에 운석날라오는 거대한 걸 사스케가 갑자기 순식간에 나타나서 부숴버리곤 개간지나게 나루토가 없다면 마을을 지킬 자는 나밖에 없다 라며 바람처럼 사라진장면은 진짜 나루토처음부
                                </div>
                            </a>
                        </li>
                        <li class="mList_item">
                            <a href="" class="mBorad_box">
                                <div class="mBorad_sec d_flex ai_c mb6">
                                    <span class="f_tag ty_mid _key">교정문의</span>
                                    <div class="ml_auto">
                                        <ul class="fz_11 list_sepBar ty2">
                                            <li class="list_item ty_date">2024-12-12</li>
                                            <li class="list_item ty_view">99</li>
                                            <li class="list_item ty_re">6</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="t_hidden_a_2">
                                    미안하다 이거 보여주려고 어그로끌었
                                </div>
                            </a>
                        </li>
                        <li class="mList_item">
                            <a href="" class="mBorad_box">
                                <div class="mBorad_sec d_flex ai_c mb6">
                                    <span class="f_tag ty_mid _key">정산문의</span>
                                    <div class="ml_auto">
                                        <ul class="fz_11 list_sepBar ty2">
                                            <li class="list_item ty_date">2024-12-12</li>
                                            <li class="list_item ty_view">99</li>
                                            <li class="list_item ty_re">6</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="t_hidden_a_2">
                                    미안하다 이거 보여주려고 어그로끌었다.. 나루토 사스케 싸움나루토처음부
                                </div>
                            </a>
                        </li> 
                        <li class="mList_item">
                            <a href="" class="mBorad_box">
                                <div class="mBorad_sec d_flex ai_c mb6">
                                    <span class="f_tag ty_mid _key">정산문의</span>
                                    <div class="ml_auto">
                                        <ul class="fz_11 list_sepBar ty2">
                                            <li class="list_item ty_date">2024-12-12</li>
                                            <li class="list_item ty_view">99</li>
                                            <li class="list_item ty_re">6</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="t_hidden_a_2">
                                    미안하다 이거 보여주려고 어그로끌었다.. 나루토 사스케 싸움나루토처음부
                                </div>
                            </a>
                        </li> 
                    </ul>
                </div>
                <div class="main_sec ">
                    <div class="main_sec_tit">
                        <h2 class="tit2">공지사항</h2>  
                        <a href="" class="btn_view_more ml_auto">
                            <span class="blind">더 보기</span>
                        </a>
                    </div>
                    <ul class="card_list col_2">
                        <li class="card_item col_item">
                            <a href="" class="card_inner">
                                <div class="img_box">
                                    <div class="tag_box">
                                        <span class="f_tag ty_small _key">공지</span>
                                        <span class="f_tag ty_small _key_op">NEW</span>
                                    </div>
                                    <img src="https://picsum.photos/400" alt="">
                                </div>
                                <div class="txt_box">
                                    <div class="card_item_info">
                                        <div class="date"><i class="fa-solid fa-calendar-days"></i>2023-04-19</div>
                                        <div class="view"><i class="fa-solid fa-eye"></i>2,903</div>
                                    </div>
                                    <div class="tit t_hidden_2">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aliquid maxime corrupti accusamus! Minus porro quam molestiae laborum neque accusamus, sequi veritatis saepe nobis animi, blanditiis pariatur doloribus, quas sit quisquam.</div>
                                </div>
                            </a>
                        </li>
                        <li class="card_item col_item">
                            <a href="" class="card_inner">
                                <div class="img_box">
                                    <img src="https://picsum.photos/400" alt="">
                                </div>
                                <div class="txt_box">
                                    <div class="card_item_info">
                                        <div class="date"><i class="fa-solid fa-calendar-days"></i>2023-04-19</div>
                                        <div class="view"><i class="fa-solid fa-eye"></i>2,903</div>
                                    </div>
                                    <div class="tit t_hidden_2">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aliquid maxime corrupti accusamus! Minus porro quam molestiae laborum neque accusamus, sequi veritatis saepe nobis animi, blanditiis pariatur doloribus, quas sit quisquam.</div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </main>
        <!--//container-->
        <!-- sticky_bot -->
        <div class="sticky_bot">
            <button type="button" aria-label="상단으로 이동" onclick="window.scrollTo(0,0)" class="btn_gotop"></button>
            <ul class="botNav">
                <li class="botNav_item">
                    <a href="" class="botNav_btn">
                        <span class="ico_box ico1"></span>
                        <span class="tit">교정현황</span>
                    </a>
                </li>
                <li class="botNav_item">
                    <a href="" class="botNav_btn">
                        <span class="ico_box ico2"></span>
                        <span class="tit">정산관리</span>
                    </a>
                </li>
                <li class="botNav_item">
                    <a href="" class="botNav_btn">
                        <span class="ico_box ico_home"></span>
                        <span class="tit">홈</span>
                    </a>
                </li>
                <li class="botNav_item">
                    <a href="" class="botNav_btn">
                        <span class="ico_box ico3"></span>
                        <span class="tit">마이페이지</span>
                    </a>
                </li>
                <li class="botNav_item">
                    <button type="button" class="botNav_btn btn_nav_toggle">
                        <span class="ico_box ico4"></span>
                        <span class="tit">메뉴</span>
                    </button>
                </li>
            </ul>
        </div>
        <!-- sticky_bot --> 
    </div>
    <script>
        /* 카운트 이벤트 */

        let delay = 300;
        let delay2 = 500;
        let dur = 500;
        let dur2 = 700;


        function count_wrap(target){
            target.each(function(i){
                //$(this).width($(this).width());
                if($(this).hasClass('percent')){
                    $(this).delay(delay2 + 300).animate(
                        {
                            Counter: $(this).data('value'),
                        },
                        {
                            duration: dur2,
                            easing: 'swing',
                            step: function (now) {
                                $(this).html(now.toFixed(1));
                            },
                        }
                    );
                }else{
                    $(this).animate(
                        {
                            Counter: $(this).data('value'),
                        },
                        {
                            duration: 1200,
                            easing: 'swing',
                            step: function (now) {
                                //$(this).html( commaSeparateNumber (kFormatter(Math.ceil(now)) ));
                                $(this).html( commaSeparateNumber (Math.ceil(now)) );
                            },
                        }
                    );
                }
            });
        }

        /* 콤마찍기 */
        function commaSeparateNumber(val){
            while (/(\d+)(\d{3})/.test(val.toString())){
            val = val.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
            }
            return val;
        }


        function kFormatter(num) {
            return Math.abs(num) > 999 ? Math.sign(num)*((Math.abs(num)/1000).toFixed(1)) + 'K' : Math.sign(num)*Math.abs(num)
        }

        // function f_search(target){
        //     let $this = $(target);
        //     let $parent = $this.parents('.f_search');
        //     if($this.val()){
        //         $parent.addClass('on');
        //     }else{
        //         $parent.removeClass('on');
        //     }
        // }



        $(function(){
            let count_box = $('.count');
            /* 카운트박스 영역 잡기 */

            count_wrap(count_box)
        });
    </script>
</body>
</html>